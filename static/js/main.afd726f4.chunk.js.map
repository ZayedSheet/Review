{"version":3,"sources":["UserContext.js","components/Buttons/SigninLoginButton.js","components/Search/SearchBar.js","components/Home.js","components/Forms/FormHook.js","components/Search/LocationSearch.js","config.js","components/Submission.js","components/MapContainer.js","components/Submission/Star.js","components/Submission/ListItem.js","components/Results.js","components/Submission/Review.js","components/Forms/AddReviewForm.js","components/Area.js","components/Nav/Navbar.js","components/Footer/Footer.js","components/Forms/SignupForm.js","checkLogin.js","components/Forms/LoginForm.js","App.js","serviceWorker.js","index.js"],"names":["UserContext","createContext","SigninLoginButton","props","onClick","setLoginSignup","className","children","SearchBar","useState","centerCoords","updateCoords","color","style","locationEnabled","results","setResults","resultVisible","setVisible","getPosition","position","lat","coords","latitude","lng","longitude","searchResults","event","a","target","value","axios","post","name","$regex","$options","res","data","onKeyDown","keyCode","preventDefault","autoComplete","onChange","type","placeholder","navigator","geolocation","getCurrentPosition","title","to","pathname","state","map","object","Home","setLogin","formName","setSignup","useForm","inputs","setInputs","validationErrors","wasFocused","errorMessage","setErrorMessage","fieldNames","password","username","email","validateField","fieldname","fieldLength","length","match","checked","checkSubmit","errorExists","Object","values","field","handleInputChange","persist","error","displayError","LocationSearchInput","address","setAddress","setValues","addressComponents","document","querySelector","locality","long_name","country","short_name","city","setCoordinates","latLng","toFixed","onSelect","geocodeByAddress","then","address_components","item","types","getLatLng","console","log","catch","getInputProps","suggestions","getSuggestionItemProps","loading","suggestion","active","backgroundColor","cursor","description","config","GOOGLE","API_KEY","AWS_S3","ACCESS_KEY_ID","SECRET_ACCESS_KEY","bucketName","region","accessKeyId","aws","secretAccessKey","Submission","file","user","useContext","useEffect","addressComplete","htmlFor","pattern","required","onSubmit","coordinates","upFile","File","uploadFile","dirName","err","upload","alert","message","id","autoFocus","LocationSearch","step","files","accept","mapStyles","width","height","GoogleApiWrapper","apiKey","center","google","zoom","initialCenter","marker","Star","i","push","linkStyle","textDecoration","ListItem","photoUrl","replace","backgroundImage","stars","toggleMap","classList","toggle","Results","location","useLocation","Math","round","rating","average","overview","Review","AddReviewForm","setStars","visibility","handleSubmit","setReviews","reviews","updateObject","object_name","objectname","starRating","onMouseEnter","onMouseLeave","reviewForm","action","rows","cols","Area","params","page","area","setArea","getObject","get","review","getValues","photoStyle","backgroundSize","backgroundRepeat","backgroundPosition","totalReviews","one","two","three","four","five","oneStarPercent","twoStarPercent","threeStarPercent","fourStarPercent","fiveStarPercent","aria-hidden","Navbar","navButtons","isOpen","toggleLinks","setUser","token","JSON","parse","localStorage","getItem","Footer","SignupForm","onBlur","checkLogin","key","success","LoginForm","setItem","stringify","App","form","signup","login","Provider","path","render","exact","component","Boolean","window","hostname","ReactDOM","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.afd726f4.chunk.js","sourcesContent":["/**\r\n * Globally available data via react context\r\n */\r\n\r\nimport {createContext} from 'react';\r\n\r\n// User Context will contain info on currently logged in user\r\nconst UserContext = createContext(false);\r\n\r\nexport default UserContext;","import React from 'react';\r\nimport './SigninLoginButton.css' //Styling specific to the buttons\r\n\r\n/**\r\n * Sign and login button\r\n * @param props properties of the component,\r\n *              props.formName is the form that the button toggles (either sign in or login form)\r\n * @returns A sign in or login Component (depending on formName property)\r\n */\r\nconst SigninLoginButton = (props) => {\r\n\r\n    return(\r\n      //  When the button is clicked, the corresponding form appears on screen\r\n      <button onClick={()=>props.setLoginSignup(true)} className={`button-style`}>\r\n          {/*The text inside the button, will be the components children\r\n          (the text between the components open and closing tag)*/}\r\n          {props.children}\r\n      </button>\r\n    );\r\n};\r\n\r\nexport default SigninLoginButton;","import React, {useState} from 'react';\r\nimport \"./SearchBar.css\";\r\nimport axios from 'axios';\r\n\r\n/*\r\nNav Link Component allows links to be added to change the current page.\r\nIn other words, change the component in the App.js switch statement\r\n */\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n/**\r\n * General search bar to search the website for objects\r\n * @returns SearchBar component\r\n */\r\nconst SearchBar = () => {\r\n\r\n    /*\r\n    Variables for geolocation functionality,\r\n    coordinates set to false until user searches by location\r\n     */\r\n    const [centerCoords, updateCoords] = useState(false);\r\n    const [style, locationEnabled] = useState({color: \"#cccccc\"});\r\n    const [results, setResults] = useState([]); //variable for storing search results\r\n    const [resultVisible, setVisible] = useState(false); //variable for if search results are visible or not\r\n\r\n\r\n    /**\r\n     * Toggles to colour on the location search option in the search bar depending on if it is selected\r\n     * Sets locationToggled to true if the option is enabled\r\n     * Initializes the coordinates of\r\n     * the user via the getPosition function\r\n     */\r\n    const isToggled = () => {\r\n        if (navigator.geolocation && !centerCoords){\r\n            navigator.geolocation.getCurrentPosition(getPosition);\r\n        }\r\n        else{ //if search by location is already toggled or geolocation doesn't work on this browser\r\n            locationEnabled({color :\"#cccccc\"});\r\n            updateCoords(false); //sets location back to niagara\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Initializes the coordinates of the user, and displays them to the user\r\n     * @param position The longitude and latitude of the user,\r\n     * obtained from the geoLoaction api.\r\n     */\r\n    function getPosition(position) {\r\n        updateCoords( {lat:position.coords.latitude, lng:position.coords.longitude});\r\n        locationEnabled({color :\"#0b7dda\"});\r\n    }\r\n\r\n    /**\r\n     * function for setting the state of search results\r\n     */\r\n    const searchResults = async (event) => {\r\n        let res;\r\n        setVisible(true); //search results become visible\r\n        if(event.target.value !== \"\"){ //if search field is not empty (regex matches empty string to everything)\r\n            try{//sends request to server to retrieve objects that match the search\r\n                res = await axios.post('http://localhost:5000/objects', {name: {$regex: '^(.* +)?' + event.target.value + '.*$', $options: \"i\"}});\r\n                setResults(res.data);\r\n            }\r\n            catch{\r\n                setResults([]);\r\n            }\r\n        }else{setResults()} //if search field is empty set results to nothing\r\n    };\r\n\r\n    const pressedEnter = (event) => {\r\n        if(event.keyCode === 13){\r\n            event.preventDefault();\r\n        }\r\n    };\r\n\r\n    return(\r\n        //Container for the entire search bar\r\n        <form className={\"search\"}>\r\n            {/*Input text field*/}\r\n            <input onKeyDown={pressedEnter} autoComplete={\"off\"} onChange={searchResults} type=\"text\" placeholder=\"Search..\" name=\"search\" />\r\n            {/*Container for the search by location button,\r\n            when clicked it toggles search by location and sets the coords*/}\r\n            <div onClick={isToggled} title=\"Click me to toggle search by location!\" className={\"search-location-button\"}>\r\n                <i style={style} className=\"fas fa-location-arrow\"/>\r\n            </div>\r\n            {/*Search button*/}\r\n            <NavLink onClick={()=> setVisible(false)} className=\"search-button\" to={{\r\n                pathname: '/Results',\r\n                state: { //props for the results page. This tells the page where to initially center the map\r\n                    centerCoords: centerCoords,\r\n                    searchResults: results\r\n                }\r\n            }} type=\"button\">\r\n                <i className=\"fa fa-search\"/>\r\n            </NavLink>\r\n            <div className={\"results\"}>\r\n                {/*if resultVisible is true and results is not empty, then map each object in results to be a div*/}\r\n                {resultVisible && results && results.map(object => {\r\n                    return <div onClick={() => setVisible(false)}><NavLink to={\"/Area/\"+object.name}>{object.name}</NavLink></div>})}\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default SearchBar;","import React from 'react';\r\n\r\nimport SigninLoginButton from \"./Buttons/SigninLoginButton\";\r\n\r\nimport SearchBar from \"./Search/SearchBar\";\r\n\r\n/**\r\n * Home page containing login/signup buttons, search bar and background image.\r\n * @returns Home Page as a Component\r\n */\r\nconst Home = (props) => {\r\n    return (\r\n        /* div.container contains the buttons, search bar and\r\n         * displays the background of the home page between the navbar and header\r\n         */\r\n        <div className={\"container\"}>\r\n            {/*Mobile login and signup buttons*/}\r\n            <div className={\"buttons-main\"}>\r\n                {/*Login/Signup buttons are done through a component\r\n                 as the buttons have similar style and functionality*/}\r\n                <SigninLoginButton setLoginSignup={props.setLogin} formName={\"login\"}>Login</SigninLoginButton>\r\n                <SigninLoginButton setLoginSignup={props.setSignup} formName={\"signup\"}>Sign Up</SigninLoginButton>\r\n            </div>\r\n\r\n            {/*Mobile Search Bar*/}\r\n            <div className={\"search-main\"}>\r\n                <SearchBar/> {/* Search Bar (aka Search Form) component*/}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Home;","import {useState} from 'react';\r\n\r\n\r\n/**\r\n * creates a generic hook for sign up forms (identifies behaviors for submit and inputchange)\r\n * @returns {{displayError: displayError, checkSubmit: checkSubmit, inputs: {}, validationErrors: {}, handleInputChange: handleInputChange}}\r\n */\r\nconst useForm = () => {\r\n    const [inputs, setInputs] = useState({}); //state variable to keep track of the field inputs\r\n    const [validationErrors] = useState({}); //variable to contain all the input field errors. We use a state variable to update the page when rerendered\r\n    const [wasFocused] = useState({});\r\n    const [errorMessage, setErrorMessage] = useState({});\r\n    const fieldNames = {password: 'password', name: 'name', username: 'username', email: 'email'};\r\n\r\n\r\n    /**\r\n     * checks everything is in order after submitting\r\n     * @param event submit\r\n     */\r\n    const checkSubmit = (event) => {\r\n        let errorExists = false; //initializes a variable to check if any errors exist\r\n        if (event) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        for (const field of Object.values(validationErrors)){ //for every elements in validationErrors (every form error)\r\n            for (const error of Object.values(field)){ //for every error within those form errors\r\n                if (error != null) { //if the error is not null (an error exists)\r\n                    errorExists = true; //there exists an error\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if(errorExists){ //if an error was found\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    /**\r\n     * updates state when input changes\r\n     * @param event field being changed\r\n     */\r\n    const handleInputChange = (event) => {\r\n        event.persist();\r\n        validateField(event.target);//checks for errors within the current form being changed\r\n\r\n        //The setInputs will rerender the page, also causing errors to rerender\r\n        setInputs(\r\n            inputs => ({...inputs, [event.target.name]: event.target.value})\r\n            );\r\n\r\n        if (wasFocused[event.target.name]){\r\n            for(const error of Object.values(validationErrors[event.target.name])){ //for every error in this form's error object\r\n                if (error != null){ //if the error is not null (an error exists)\r\n                    setErrorMessage(\r\n                        errorMessage => ({...errorMessage, [event.target.name]: error})\r\n                    );\r\n                    return;//here we return rather than concatenating errors because we'd only like to display one error at a time\r\n                }\r\n            }\r\n            setErrorMessage(\r\n                errorMessage => ({...errorMessage, [event.target.name]: ''})\r\n            );\r\n        }\r\n    };\r\n\r\n    /**\r\n     * function to display a form's error if an error exists.\r\n     * @param event the current form\r\n     */\r\n    const displayError = (event) => {\r\n        event.persist();\r\n        if (validationErrors[event.target.name]){ //if the form has its error attribute added already (the user didnt just leave the field empty)\r\n            wasFocused[event.target.name] = true;\r\n            for(const error of Object.values(validationErrors[event.target.name])){ //for every error in this form's error object\r\n                if (error != null){ //if the error is not null (an error exists)\r\n                    setErrorMessage(\r\n                        errorMessage => ({...errorMessage, [event.target.name]: error})\r\n                    );\r\n                    return;//here we return rather than concatenating errors because we'd only like to display one error at a time\r\n                }\r\n            }\r\n            setErrorMessage(\r\n                errorMessage => ({...errorMessage, [event.target.name]: ''})\r\n            );\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * Function that updates field errors\r\n     * @param fieldname the field being updated\r\n     */\r\n    const validateField = (fieldname) => {\r\n        let fieldLength = fieldname.value.length;//gets the # of characters in the field\r\n\r\n        //switch statement to update errors for fields accordingly\r\n        switch(fieldname.name) {\r\n            case fieldNames.name:\r\n                validationErrors[fieldname.name] = {\r\n                    'inputError': fieldname.value.match(/^([a-zA-Z]+\\s)*[a-zA-Z]+$/) ? null : 'invalid name, your name can only contain letters', //regex that matches for names. Names cannot begin or end with whitespace. Only one whitespace is allowed between strings\r\n                    'lengthError': (fieldLength > 2 && fieldLength < 20) ? null : 'invalid name length' //name length must be greater than 2 and less than 20\r\n                };\r\n                break;\r\n            case fieldNames.email:\r\n                validationErrors[fieldname.name] = {\r\n                    'inputError' : fieldname.value.match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/) ? null : 'invalid email' //regex that matches for emails. Allows special characters and ensures an @ is followed by a string which is followed by .\r\n                };\r\n                break;\r\n            case fieldNames.username:\r\n                validationErrors[fieldname.name] = {\r\n                    'inputError' : fieldname.value.match(/^[a-zA-Z0-9]+$/) ? null : 'invalid username, your name can only contain letters and numbers', //regex that matches for names with letters and numbers only\r\n                    'lengthError': (fieldLength > 4 && fieldLength < 20) ? null : 'invalid user name length' //ensures username is greater than 4 and less than 20 characters\r\n                };\r\n                break;\r\n            case fieldNames.password:\r\n                validationErrors[fieldname.name] = {\r\n                    // should password have regex? Revisit later\r\n                    // ['inputError'] : fieldname.value.match(//) ? null : 'invalid password',\r\n                    'lengthError' : (fieldLength > 6 && fieldLength < 30) ? null : 'invalid password length' //ensures password is greater than 6 and less than 30 characters\r\n                };\r\n                break;\r\n            case 'terms':\r\n                validationErrors[fieldname.name] = {\r\n                    'inputError' : fieldname.checked ? null : 'You must accept the terms', //ensures user has checked the agree to terms checkbox\r\n                };\r\n                break;\r\n            default: break;\r\n\r\n        }\r\n    };\r\n\r\n    return { //returns the following functions and state variables\r\n        checkSubmit,\r\n        handleInputChange,\r\n        displayError,\r\n        inputs,\r\n        setInputs,\r\n        validationErrors,\r\n        errorMessage,\r\n        fieldNames\r\n    };\r\n\r\n\r\n};\r\n\r\nexport default useForm;","// import PlacesAutocomplete, {geocodeByAddress, geocodeByPlaceId, getLatLng,} from 'react-places-autocomplete';\r\nimport React, {useState} from 'react';\r\nimport PlacesAutocomplete, {\r\n    geocodeByAddress,\r\n    getLatLng,\r\n} from 'react-places-autocomplete';\r\n\r\nconst LocationSearchInput = (props) => {\r\n\r\n    const [address, setAddress] = useState('');\r\n\r\n    const handleChange = address => {\r\n        setAddress( address );\r\n    };\r\n\r\n    const handleSelect = address => {\r\n        document.querySelector(\"input[name='address']\").value = address;\r\n        setAddress(address);\r\n        geocodeByAddress(address)\r\n            .then(results => {\r\n                let addressComponents = {};\r\n                results[0].address_components.map(item => {\r\n                    addressComponents[item.types[0]] = {long_name: item.long_name, short_name: item.short_name};\r\n                    return item;\r\n                });\r\n                setValues(addressComponents);\r\n                return getLatLng(results[0])})\r\n            .then(latLng => console.log('Success', setCoordinates(latLng)))\r\n            .catch(error => console.error('Error', error));\r\n    };\r\n\r\n    const setValues = (addressComponents) => {\r\n        document.querySelector(\"input[name='city']\").value = addressComponents.locality.long_name;\r\n        document.querySelector(\"select[name='country']\").value = addressComponents.country.short_name;\r\n        props.setInputs(\r\n            inputs => ({...inputs, city: addressComponents.locality.long_name,\r\n                country: addressComponents.country.short_name})\r\n        );\r\n    };\r\n\r\n    const setCoordinates = (latLng) => {\r\n\r\n        document.querySelector(\"input[name='longitude']\").value = latLng.lng.toFixed(7);\r\n        document.querySelector(\"input[name='latitude']\").value = latLng.lat.toFixed(7);\r\n        props.setInputs(\r\n            inputs => ({...inputs, latitude: latLng.lat, longitude: latLng.lng})\r\n        );\r\n    };\r\n\r\n    return (\r\n        <PlacesAutocomplete value={address} onChange={handleChange} onSelect={handleSelect}>\r\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n                <div>\r\n                    <input placeholder={\"(optional) AutoFill with Google\"} name={'address'}\r\n                        {...getInputProps({\r\n                             className: 'location-search-input',\r\n                        })}/>\r\n                    <div className=\"autocomplete-dropdown-container\">\r\n                        {loading && <div>Loading...</div>}\r\n                        {suggestions.map(suggestion => {\r\n                            const className = suggestion.active\r\n                                ? 'suggestion-item--active'\r\n                                : 'suggestion-item';\r\n                            // inline style for demonstration purpose\r\n                            const style = suggestion.active ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                                : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                            return (\r\n                                <div{...getSuggestionItemProps(suggestion, {className, style,})}>\r\n                                    <span>{suggestion.description}</span>\r\n                                </div>\r\n                            );\r\n                        })}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </PlacesAutocomplete>\r\n    );\r\n};\r\n\r\nexport default LocationSearchInput;","const config = {\r\n    GOOGLE: {API_KEY: 'AIzaSyDZ-7P4_Z6trtzAZgL3s_Oq3SEY_Q8TKzw'},\r\n    AWS_S3: {ACCESS_KEY_ID: 'AKIAJZPZPO5GBAQJ7OIA', SECRET_ACCESS_KEY: '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'}\r\n};\r\n\r\nexport default config","import React, {useContext, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport useForm from './Forms/FormHook';\r\nimport UserContext from '../UserContext';\r\nimport LocationSearch from './Search/LocationSearch'\r\nimport {uploadFile} from 'react-s3'\r\nimport aws from '../config'\r\n\r\n\r\nconst config = {\r\n    bucketName: 'review-bucket-react',\r\n    region: 'us-east-2',\r\n    accessKeyId: aws.AWS_S3.ACCESS_KEY_ID,\r\n    secretAccessKey: aws.AWS_S3.SECRET_ACCESS_KEY,\r\n};\r\n\r\n/**\r\n * Submission page where users can add an area (a object) to the website\r\n * @returns A Submission Page Component\r\n */\r\nconst Submission = () => {\r\n    const {inputs, handleInputChange, setInputs} = useForm(); //retrieves the following functions and state variables from the form hook\r\n    const {user} = useContext(UserContext);\r\n    let file;\r\n\r\n    useEffect(() => {\r\n        setInputs({country: \"CA\"})\r\n    }, []);\r\n\r\n    const upload = () => {\r\n        let upFile = new File(file, \"cover.png\");\r\n        uploadFile(upFile, {...config, dirName: inputs.name}).then(data => console.log(data)).catch(err => console.error(err));\r\n    };\r\n    const getFile = (event) => {\r\n        file = event.target.files;\r\n    };\r\n\r\n    /**\r\n     * Function that handles the form's submit\r\n     * @param event submit event\r\n     */\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault(); //prevents default form submit action\r\n        if (user) { //if user is logged in, sends post request to server with inputs from form hook as input, and coordinates object appended to it\r\n            axios.post('http://localhost:5000/objects/add', {...inputs, coordinates:{latitude: inputs.latitude, longitude: inputs.longitude}, username: user})\r\n                .then(() => {\r\n                    upload();\r\n                    alert(\"Object Added!\")\r\n                }).catch(() => alert(\"Duplicate Object, Invalid Inputs, or Error Uploading Image\"))\r\n                .catch(res => {alert(\"Duplicate Object or Invalid Inputs\"); console.log(res.message)}); //if an issue with posting occurs, log the message\r\n        }\r\n        else {\r\n            alert(\"no user\");\r\n        }\r\n    };\r\n\r\n    /*\r\n    Coordinates (longitude and latitude) of the user, set the false until the button is clicked to retrieve them\r\n     */\r\n    let coords = {longitude: false, latitude:false};\r\n\r\n    /**\r\n     * Checks if the geolocation api is supported,\r\n     * if it is the location will be initalized via showPosition function\r\n     */\r\n    function getLocation() {\r\n        if (navigator.geolocation) {\r\n            navigator.geolocation.getCurrentPosition(getPosition);\r\n        } else {\r\n            alert(\"Geolocation unsupported\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initializes the coordinates of the user, and displays them to the user\r\n     * @param position The longitude and latitude of the user,\r\n     * obtained from the geoLoaction api.\r\n     */\r\n    function getPosition(position) {\r\n        coords = {longitude: position.coords.longitude, latitude: position.coords.latitude};\r\n\r\n        document.querySelector(\"input[name='longitude']\").value = coords.longitude;\r\n        document.querySelector(\"input[name='latitude']\").value = coords.latitude;\r\n        setInputs(\r\n            inputs => ({...inputs, latitude: coords.latitude, longitude: coords.longitude})\r\n        );\r\n    }\r\n    const addressComplete = (\r\n        <>\r\n            <div>\r\n                <label htmlFor=\"city\">City</label>\r\n                <input onChange={handleInputChange} type=\"text\" name=\"city\" placeholder=\"City Name..\" pattern=\"^([a-zA-Z]+\\s)*[a-zA-Z]+$\" required/><br/>\r\n            </div>\r\n            <div>\r\n                <label htmlFor=\"country\">Country</label>\r\n                {/*Select Input is used to only allow one country to be selected from a set of predetermined options*/}\r\n                <select onChange={handleInputChange} name=\"country\">\r\n                    <option value=\"CA\">Canada</option>\r\n                    <option value=\"US\">United States</option>\r\n                    <option value=\"AF\">Afghanistan</option>\r\n                    <option value=\"AX\">Åland Islands</option>\r\n                    <option value=\"AL\">Albania</option>\r\n                    <option value=\"DZ\">Algeria</option>\r\n                    <option value=\"AS\">American Samoa</option>\r\n                    <option value=\"AD\">Andorra</option>\r\n                    <option value=\"AO\">Angola</option>\r\n                    <option value=\"AI\">Anguilla</option>\r\n                    <option value=\"AQ\">Antarctica</option>\r\n                    <option value=\"AG\">Antigua and Barbuda</option>\r\n                    <option value=\"AR\">Argentina</option>\r\n                    <option value=\"AM\">Armenia</option>\r\n                    <option value=\"AW\">Aruba</option>\r\n                    <option value=\"AU\">Australia</option>\r\n                    <option value=\"AT\">Austria</option>\r\n                    <option value=\"AZ\">Azerbaijan</option>\r\n                    <option value=\"BS\">Bahamas</option>\r\n                    <option value=\"BH\">Bahrain</option>\r\n                    <option value=\"BD\">Bangladesh</option>\r\n                    <option value=\"BB\">Barbados</option>\r\n                    <option value=\"BY\">Belarus</option>\r\n                    <option value=\"BE\">Belgium</option>\r\n                    <option value=\"BZ\">Belize</option>\r\n                    <option value=\"BJ\">Benin</option>\r\n                    <option value=\"BM\">Bermuda</option>\r\n                    <option value=\"BT\">Bhutan</option>\r\n                    <option value=\"BO\">Bolivia, Plurinational State of</option>\r\n                    <option value=\"BQ\">Bonaire, Sint Eustatius and Saba</option>\r\n                    <option value=\"BA\">Bosnia and Herzegovina</option>\r\n                    <option value=\"BW\">Botswana</option>\r\n                    <option value=\"BV\">Bouvet Island</option>\r\n                    <option value=\"BR\">Brazil</option>\r\n                    <option value=\"IO\">British Indian Ocean Territory</option>\r\n                    <option value=\"BN\">Brunei Darussalam</option>\r\n                    <option value=\"BG\">Bulgaria</option>\r\n                    <option value=\"BF\">Burkina Faso</option>\r\n                    <option value=\"BI\">Burundi</option>\r\n                    <option value=\"KH\">Cambodia</option>\r\n                    <option value=\"CM\">Cameroon</option>\r\n                    <option value=\"CV\">Cape Verde</option>\r\n                    <option value=\"KY\">Cayman Islands</option>\r\n                    <option value=\"CF\">Central African Republic</option>\r\n                    <option value=\"TD\">Chad</option>\r\n                    <option value=\"CL\">Chile</option>\r\n                    <option value=\"CN\">China</option>\r\n                    <option value=\"CX\">Christmas Island</option>\r\n                    <option value=\"CC\">Cocos (Keeling) Islands</option>\r\n                    <option value=\"CO\">Colombia</option>\r\n                    <option value=\"KM\">Comoros</option>\r\n                    <option value=\"CG\">Congo</option>\r\n                    <option value=\"CD\">Congo, the Democratic Republic of the</option>\r\n                    <option value=\"CK\">Cook Islands</option>\r\n                    <option value=\"CR\">Costa Rica</option>\r\n                    <option value=\"CI\">Côte d'Ivoire</option>\r\n                    <option value=\"HR\">Croatia</option>\r\n                    <option value=\"CU\">Cuba</option>\r\n                    <option value=\"CW\">Curaçao</option>\r\n                    <option value=\"CY\">Cyprus</option>\r\n                    <option value=\"CZ\">Czech Republic</option>\r\n                    <option value=\"DK\">Denmark</option>\r\n                    <option value=\"DJ\">Djibouti</option>\r\n                    <option value=\"DM\">Dominica</option>\r\n                    <option value=\"DO\">Dominican Republic</option>\r\n                    <option value=\"EC\">Ecuador</option>\r\n                    <option value=\"EG\">Egypt</option>\r\n                    <option value=\"SV\">El Salvador</option>\r\n                    <option value=\"GQ\">Equatorial Guinea</option>\r\n                    <option value=\"ER\">Eritrea</option>\r\n                    <option value=\"EE\">Estonia</option>\r\n                    <option value=\"ET\">Ethiopia</option>\r\n                    <option value=\"FK\">Falkland Islands (Malvinas)</option>\r\n                    <option value=\"FO\">Faroe Islands</option>\r\n                    <option value=\"FJ\">Fiji</option>\r\n                    <option value=\"FI\">Finland</option>\r\n                    <option value=\"FR\">France</option>\r\n                    <option value=\"GF\">French Guiana</option>\r\n                    <option value=\"PF\">French Polynesia</option>\r\n                    <option value=\"TF\">French Southern Territories</option>\r\n                    <option value=\"GA\">Gabon</option>\r\n                    <option value=\"GM\">Gambia</option>\r\n                    <option value=\"GE\">Georgia</option>\r\n                    <option value=\"DE\">Germany</option>\r\n                    <option value=\"GH\">Ghana</option>\r\n                    <option value=\"GI\">Gibraltar</option>\r\n                    <option value=\"GR\">Greece</option>\r\n                    <option value=\"GL\">Greenland</option>\r\n                    <option value=\"GD\">Grenada</option>\r\n                    <option value=\"GP\">Guadeloupe</option>\r\n                    <option value=\"GU\">Guam</option>\r\n                    <option value=\"GT\">Guatemala</option>\r\n                    <option value=\"GG\">Guernsey</option>\r\n                    <option value=\"GN\">Guinea</option>\r\n                    <option value=\"GW\">Guinea-Bissau</option>\r\n                    <option value=\"GY\">Guyana</option>\r\n                    <option value=\"HT\">Haiti</option>\r\n                    <option value=\"HM\">Heard Island and McDonald Islands</option>\r\n                    <option value=\"VA\">Holy See (Vatican City State)</option>\r\n                    <option value=\"HN\">Honduras</option>\r\n                    <option value=\"HK\">Hong Kong</option>\r\n                    <option value=\"HU\">Hungary</option>\r\n                    <option value=\"IS\">Iceland</option>\r\n                    <option value=\"IN\">India</option>\r\n                    <option value=\"ID\">Indonesia</option>\r\n                    <option value=\"IR\">Iran, Islamic Republic of</option>\r\n                    <option value=\"IQ\">Iraq</option>\r\n                    <option value=\"IE\">Ireland</option>\r\n                    <option value=\"IM\">Isle of Man</option>\r\n                    <option value=\"IL\">Israel</option>\r\n                    <option value=\"IT\">Italy</option>\r\n                    <option value=\"JM\">Jamaica</option>\r\n                    <option value=\"JP\">Japan</option>\r\n                    <option value=\"JE\">Jersey</option>\r\n                    <option value=\"JO\">Jordan</option>\r\n                    <option value=\"KZ\">Kazakhstan</option>\r\n                    <option value=\"KE\">Kenya</option>\r\n                    <option value=\"KI\">Kiribati</option>\r\n                    <option value=\"KP\">Korea, Democratic People's Republic of</option>\r\n                    <option value=\"KR\">Korea, Republic of</option>\r\n                    <option value=\"KW\">Kuwait</option>\r\n                    <option value=\"KG\">Kyrgyzstan</option>\r\n                    <option value=\"LA\">Lao People's Democratic Republic</option>\r\n                    <option value=\"LV\">Latvia</option>\r\n                    <option value=\"LB\">Lebanon</option>\r\n                    <option value=\"LS\">Lesotho</option>\r\n                    <option value=\"LR\">Liberia</option>\r\n                    <option value=\"LY\">Libya</option>\r\n                    <option value=\"LI\">Liechtenstein</option>\r\n                    <option value=\"LT\">Lithuania</option>\r\n                    <option value=\"LU\">Luxembourg</option>\r\n                    <option value=\"MO\">Macao</option>\r\n                    <option value=\"MK\">Macedonia, the former Yugoslav Republic of</option>\r\n                    <option value=\"MG\">Madagascar</option>\r\n                    <option value=\"MW\">Malawi</option>\r\n                    <option value=\"MY\">Malaysia</option>\r\n                    <option value=\"MV\">Maldives</option>\r\n                    <option value=\"ML\">Mali</option>\r\n                    <option value=\"MT\">Malta</option>\r\n                    <option value=\"MH\">Marshall Islands</option>\r\n                    <option value=\"MQ\">Martinique</option>\r\n                    <option value=\"MR\">Mauritania</option>\r\n                    <option value=\"MU\">Mauritius</option>\r\n                    <option value=\"YT\">Mayotte</option>\r\n                    <option value=\"MX\">Mexico</option>\r\n                    <option value=\"FM\">Micronesia, Federated States of</option>\r\n                    <option value=\"MD\">Moldova, Republic of</option>\r\n                    <option value=\"MC\">Monaco</option>\r\n                    <option value=\"MN\">Mongolia</option>\r\n                    <option value=\"ME\">Montenegro</option>\r\n                    <option value=\"MS\">Montserrat</option>\r\n                    <option value=\"MA\">Morocco</option>\r\n                    <option value=\"MZ\">Mozambique</option>\r\n                    <option value=\"MM\">Myanmar</option>\r\n                    <option value=\"NA\">Namibia</option>\r\n                    <option value=\"NR\">Nauru</option>\r\n                    <option value=\"NP\">Nepal</option>\r\n                    <option value=\"NL\">Netherlands</option>\r\n                    <option value=\"NC\">New Caledonia</option>\r\n                    <option value=\"NZ\">New Zealand</option>\r\n                    <option value=\"NI\">Nicaragua</option>\r\n                    <option value=\"NE\">Niger</option>\r\n                    <option value=\"NG\">Nigeria</option>\r\n                    <option value=\"NU\">Niue</option>\r\n                    <option value=\"NF\">Norfolk Island</option>\r\n                    <option value=\"MP\">Northern Mariana Islands</option>\r\n                    <option value=\"NO\">Norway</option>\r\n                    <option value=\"OM\">Oman</option>\r\n                    <option value=\"PK\">Pakistan</option>\r\n                    <option value=\"PW\">Palau</option>\r\n                    <option value=\"PS\">Palestinian Territory, Occupied</option>\r\n                    <option value=\"PA\">Panama</option>\r\n                    <option value=\"PG\">Papua New Guinea</option>\r\n                    <option value=\"PY\">Paraguay</option>\r\n                    <option value=\"PE\">Peru</option>\r\n                    <option value=\"PH\">Philippines</option>\r\n                    <option value=\"PN\">Pitcairn</option>\r\n                    <option value=\"PL\">Poland</option>\r\n                    <option value=\"PT\">Portugal</option>\r\n                    <option value=\"PR\">Puerto Rico</option>\r\n                    <option value=\"QA\">Qatar</option>\r\n                    <option value=\"RE\">Réunion</option>\r\n                    <option value=\"RO\">Romania</option>\r\n                    <option value=\"RU\">Russian Federation</option>\r\n                    <option value=\"RW\">Rwanda</option>\r\n                    <option value=\"BL\">Saint Barthélemy</option>\r\n                    <option value=\"SH\">Saint Helena, Ascension and Tristan da Cunha</option>\r\n                    <option value=\"KN\">Saint Kitts and Nevis</option>\r\n                    <option value=\"LC\">Saint Lucia</option>\r\n                    <option value=\"MF\">Saint Martin (French part)</option>\r\n                    <option value=\"PM\">Saint Pierre and Miquelon</option>\r\n                    <option value=\"VC\">Saint Vincent and the Grenadines</option>\r\n                    <option value=\"WS\">Samoa</option>\r\n                    <option value=\"SM\">San Marino</option>\r\n                    <option value=\"ST\">Sao Tome and Principe</option>\r\n                    <option value=\"SA\">Saudi Arabia</option>\r\n                    <option value=\"SN\">Senegal</option>\r\n                    <option value=\"RS\">Serbia</option>\r\n                    <option value=\"SC\">Seychelles</option>\r\n                    <option value=\"SL\">Sierra Leone</option>\r\n                    <option value=\"SG\">Singapore</option>\r\n                    <option value=\"SX\">Sint Maarten (Dutch part)</option>\r\n                    <option value=\"SK\">Slovakia</option>\r\n                    <option value=\"SI\">Slovenia</option>\r\n                    <option value=\"SB\">Solomon Islands</option>\r\n                    <option value=\"SO\">Somalia</option>\r\n                    <option value=\"ZA\">South Africa</option>\r\n                    <option value=\"GS\">South Georgia and the South Sandwich Islands</option>\r\n                    <option value=\"SS\">South Sudan</option>\r\n                    <option value=\"ES\">Spain</option>\r\n                    <option value=\"LK\">Sri Lanka</option>\r\n                    <option value=\"SD\">Sudan</option>\r\n                    <option value=\"SR\">Suriname</option>\r\n                    <option value=\"SJ\">Svalbard and Jan Mayen</option>\r\n                    <option value=\"SZ\">Swaziland</option>\r\n                    <option value=\"SE\">Sweden</option>\r\n                    <option value=\"CH\">Switzerland</option>\r\n                    <option value=\"SY\">Syrian Arab Republic</option>\r\n                    <option value=\"TW\">Taiwan, Province of China</option>\r\n                    <option value=\"TJ\">Tajikistan</option>\r\n                    <option value=\"TZ\">Tanzania, United Republic of</option>\r\n                    <option value=\"TH\">Thailand</option>\r\n                    <option value=\"TL\">Timor-Leste</option>\r\n                    <option value=\"TG\">Togo</option>\r\n                    <option value=\"TK\">Tokelau</option>\r\n                    <option value=\"TO\">Tonga</option>\r\n                    <option value=\"TT\">Trinidad and Tobago</option>\r\n                    <option value=\"TN\">Tunisia</option>\r\n                    <option value=\"TR\">Turkey</option>\r\n                    <option value=\"TM\">Turkmenistan</option>\r\n                    <option value=\"TC\">Turks and Caicos Islands</option>\r\n                    <option value=\"TV\">Tuvalu</option>\r\n                    <option value=\"UG\">Uganda</option>\r\n                    <option value=\"UA\">Ukraine</option>\r\n                    <option value=\"AE\">United Arab Emirates</option>\r\n                    <option value=\"GB\">United Kingdom</option>\r\n                    <option value=\"UM\">United States Minor Outlying Islands</option>\r\n                    <option value=\"UY\">Uruguay</option>\r\n                    <option value=\"UZ\">Uzbekistan</option>\r\n                    <option value=\"VU\">Vanuatu</option>\r\n                    <option value=\"VE\">Venezuela, Bolivarian Republic of</option>\r\n                    <option value=\"VN\">Viet Nam</option>\r\n                    <option value=\"VG\">Virgin Islands, British</option>\r\n                    <option value=\"VI\">Virgin Islands, U.S.</option>\r\n                    <option value=\"WF\">Wallis and Futuna</option>\r\n                    <option value=\"EH\">Western Sahara</option>\r\n                    <option value=\"YE\">Yemen</option>\r\n                    <option value=\"ZM\">Zambia</option>\r\n                    <option value=\"ZW\">Zimbabwe</option>\r\n                </select>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    return(\r\n\r\n        /*\r\n        Form for the add an object (aka an area) to a page,\r\n        contains css/html5 form validation using the pattern and required attribute\r\n        Each input is separated in divs to allow easier css grids usage\r\n         */\r\n        <form onSubmit={handleSubmit} id=\"full-page-form\" className=\"form-style\">\r\n            <h1>Add an Area!</h1>\r\n            {/*Input for the name of the area*/}\r\n            <div>\r\n                <label htmlFor=\"name\">Area Name</label>\r\n                <input onChange={handleInputChange} type=\"text\" name=\"name\" placeholder=\"Name of area..\" pattern=\"^([a-zA-Z]+\\s)*[a-zA-Z]+$\" required autoFocus/><br/>\r\n                {/*Ensures input matches the regex pattern for names. No white spaces can occur before or after the full name and only one space is allowed between strings. This field is autofocused when page renders. This field is required to be filled*/}\r\n            </div>\r\n            {/*Input for the city of the object*/}\r\n            <div>\r\n                {/*<label htmlFor=\"city\">City</label>*/}\r\n                {/*<input onChange={handleInputChange} type=\"text\" name=\"city\" placeholder=\"City Name..\" pattern=\"^([a-zA-Z]+\\s)*[a-zA-Z]+$\" required/><br/>*/}\r\n                <LocationSearch name={\"address\"} setInputs={setInputs}/>\r\n                {/*Ensures input matches regex pattern for names. Required attributes means this field is required to be filled*/}\r\n            </div>\r\n\r\n            {addressComplete}\r\n\r\n            {/*Input of the country of the object*/}\r\n\r\n            {/*Input for a general overview/description of the object*/}\r\n            <div>\r\n                <label htmlFor=\"areaOverview\">Overview</label>\r\n                <input onChange={handleInputChange} type=\"text\" name=\"overview\" required={true} placeholder=\"Short overview on the area...\"/><br/>\r\n            </div>\r\n            {/*Inputs of the coordinates of the object,\r\n            can be autofilled via geolocation api*/}\r\n            <div>\r\n                <label htmlFor=\"areaCords\">Co-ordinates</label>\r\n                <input onChange={handleInputChange} type=\"number\"  step=\"0.0000001\" name=\"latitude\" placeholder='Latitude...'/>\r\n                <input onChange={handleInputChange} type=\"number\"  step=\"0.0000001\" name=\"longitude\" placeholder=\"Longitude..\"/><br/>\r\n                {/*Button the allow user to autofill coordinates based on location*/}\r\n                <button type={\"button\"} onClick={getLocation}>Enter my current coordinates</button>\r\n            </div>\r\n            {/*Input for a picture upload section for the form*/}\r\n            <div>\r\n                <label htmlFor=\"pic\">Picture</label>\r\n                <input onChange={getFile} type=\"file\" id=\"pic\" name=\"pic\" accept=\"image/*\"/>\r\n            </div>\r\n            <input type=\"submit\" value=\"Submit\"/>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default Submission;\r\n\r\n","import React from 'react';\r\nimport { Map, GoogleApiWrapper, Marker} from 'google-maps-react';\r\nimport config from '../config'\r\n\r\n// Style for a map, map will always take the entire container\r\nconst mapStyles = {\r\n    width: '100%',\r\n    height: '100%'\r\n};\r\n\r\n/**\r\n * A container that displaying a google map\r\n * @param props properties of the component\r\n *              props.center is the coordinates of the starting center of the map as a object\r\n * @returns A map component\r\n */\r\nexport const MapContainer = (props) => {\r\n    console.log(\"center\", props.center);\r\n\r\n    /**\r\n     * Highlights a list-item on the search results page when a Marker is clicked\r\n     * @param item the id of the list-item to be highlighted\r\n     */\r\n    // const handleClick = (item) =>{\r\n    //     const listItems = document.getElementsByClassName(\"list-item\");\r\n    //     /*\r\n    //     Traverses through all list item,\r\n    //      the list-item with id = item is highlighted, the rest are given another colour\r\n    //      */\r\n    //     for(let i = 0; i < listItems.length; i++){\r\n    //         if(listItems.item(i).id === item) listItems.item(i).style.backgroundColor = \"white\";\r\n    //         else listItems.item(i).style.backgroundColor = \"#547ec2\";\r\n    //     }\r\n    // };\r\n\r\n\r\n    return (\r\n        //Google Maps Component centered at the passed in property of center\r\n        <Map google={props.google} zoom={10} style={mapStyles} center={props.center} initialCenter={props.center}>\r\n            {props.marker && props.marker.map(item => {//takes the marker prop (list of area objects) and creates a marker from every lat and longitude\r\n                return <Marker position={{lat: item.coordinates.latitude, lng: item.coordinates.longitude}}/>\r\n            })}\r\n\r\n        </Map>\r\n\r\n    );\r\n};\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: config.GOOGLE.API_KEY\r\n})(MapContainer);\r\n","import React from 'react';\r\n\r\n/**\r\n * Displays star rating by displaying repeated icons\r\n * @param props properties of the component,\r\n *              props.value is the number of stars to display\r\n * @returns A star rating component (repeated icon elements)\r\n */\r\nconst Star = (props) => {\r\n\r\n    //Builds an array of icons of size props.value, each element is a star icon\r\n    let a = [];\r\n    for (let i = 0; i < props.value; i++) {\r\n        a.push(<i className=\"fas fa-star star\"/>);\r\n    }\r\n    return (\r\n        <>{a}</>\r\n    );\r\n};\r\n\r\nexport default Star;","import React from 'react';\r\nimport Stars from \"./Star\"; //Star rating will be displayed on each list item\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n//Prevents all text tags (h2 and p) under NavLink to be styled like link elements\r\nconst linkStyle = {\r\n    textDecoration: 'none',\r\n    color: 'black',\r\n};\r\n\r\n/**\r\n * List Item in the search results page\r\n * @param props properties of the component\r\n *              props.id is the id of the list-item\r\n *              props.title is the title of the list item\r\n *              props.stars is the rating of the list item\r\n *              props.children is the description of the list item\r\n * @returns A list Item component\r\n */\r\nconst ListItem = (props) => {\r\n    let photoUrl = \"https://review-bucket-react.s3.us-east-2.amazonaws.com/\" + props.title.replace(\" \", \"+\") + \"/cover.png\";\r\n\r\n    return(\r\n        //Entire list item is contained in a NavLink to make the entire component clickable to change pages\r\n        <NavLink to={props.to} style={linkStyle}>\r\n\r\n            {/*the list item is given the id property that was passed in*/}\r\n            <li id={props.id} className=\"list-item\">\r\n\r\n                {/*The image is contained in this div*/}\r\n                <div style={{backgroundImage: \"url(\" + photoUrl + \")\"}} className=\"item-image\"/>\r\n\r\n                {/*Container for description, rating, and description*/}\r\n                <div>\r\n                    <h2>{props.title}\r\n                        <Stars value={props.stars}/> {/* Star component used for readability and cleanliness*/}\r\n                    </h2>\r\n                    <p> {props.children} </p>\r\n                </div>\r\n            </li>\r\n        </NavLink>\r\n    );\r\n};\r\n\r\nexport default ListItem;","import React from 'react';\r\nimport {useState, useEffect} from 'react'\r\nimport {useLocation} from 'react-router-dom';\r\nimport './results.css'\r\n\r\n//Components within the results page\r\nimport MapContainer from \"./MapContainer\";\r\nimport ListItem from \"./Submission/ListItem\";\r\n\r\n/**\r\n * Toggles map view in mobile version of the results page\r\n */\r\nconst toggleMap = () => {\r\n    document.querySelector(\".toggle-switch\").classList.toggle('toggle-map');\r\n    document.querySelector(\".map-view\").classList.toggle('map-view-enable');\r\n};\r\n\r\n/**\r\n * Page that displays search results\r\n * @returns A Results Component\r\n */\r\nconst Results = () => {\r\n    const location = useLocation();\r\n    const [results, setResults] = useState(null); //state for storing results from searchbar\r\n\r\n\r\n    useEffect(() => {\r\n        if(location.state.searchResults){ //if there are searchResults (prop passed in from searchbar)\r\n            setResults(location.state.searchResults); //set the results state to be search results (list of area objects)\r\n        }\r\n    },[location.state.searchResults]);\r\n\r\n    return (\r\n        //Empty container for all elements as JSX does not allow adjacent elements\r\n        <>\r\n            {/*Container for the list view of the search results*/}\r\n            <div id=\"list-view\">\r\n\r\n                {/* Each element in the list is a search result displayed as a ListItem Component*/}\r\n                <ul>\r\n                    {results && results.map(item => { //maps each item in results to be a listItem\r\n                        return <ListItem to={\"../Area/\" + item.name} stars={Math.round(item.rating.average)} title={item.name}>\r\n                            {item.overview}\r\n                        </ListItem>\r\n                    })}\r\n                </ul>\r\n            </div>\r\n\r\n            {/*Container for the map view of the search results, displayed using Google Maps API\r\n            The map is centered at the users location if they search by location, or a default location otherwise*/}\r\n            <div className=\"map-view\">\r\n                <MapContainer\r\n                    //if user is searching by location, MapContainer center prop is user's location, otherwise if results, map container's center is the first results coordinates, otherwise centers on niagara\r\n                    center={location.state.centerCoords ? location.state.centerCoords : (results && results[0] ? {lat: results[0].coordinates.latitude, lng:results[0].coordinates.longitude} : {lat: 43.0896, lng: -79.0849})}\r\n                    marker={results ? results : null}\r\n                />\r\n            </div>\r\n\r\n            {/* Toggle switch to toggle between map and list view on mobile */}\r\n            <div id=\"toggle-background\">\r\n                <p className=\"toggle noselect\">LIST</p>\r\n                {/*When toggle button is clicked, the map-view is toggled via toggleMap function*/}\r\n                <div className=\"toggle\" onClick={toggleMap}>\r\n                    <div className=\"toggle-switch\">\r\n                    </div>\r\n                </div>\r\n                <p className=\"toggle noselect\">MAP</p>\r\n            </div>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Results;","import React from 'react';\r\nimport Star from \"./Star\";\r\n\r\nconst Review = (props) => {\r\n    return(\r\n        <li>\r\n            <span>{props.username}</span>\r\n            <Star value={props.stars}/>\r\n            <p>{props.children}</p>\r\n        </li>\r\n    )\r\n};\r\n\r\nexport default Review\r\n","import React, {useState, useContext, useEffect} from 'react'\r\nimport axios from 'axios';\r\nimport useForm from './FormHook';\r\nimport UserContext from \"../../UserContext\";\r\nimport Review from \"../Submission/Review\";\r\n\r\n\r\nconst AddReviewForm = (props) => {\r\n\r\n    const {user} = useContext(UserContext); //user state\r\n    const [stars, setStars] = useState(0); //stars state initially zero\r\n    const [visibility, setVisible] = useState(true); //state for visibility of form\r\n    const {inputs, setInputs, handleInputChange} = useForm(); //retreives functions and state variables from form hook\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault(); //prevents default form behavior\r\n        if (user){ //if user is logged in\r\n            try{\r\n                await axios.post(\"http://localhost:5000/reviews/add\", inputs); //sends request to server to add the review with inputs (From form hook) as input\r\n                setVisible(false); //review form is no longer visible as it has just been submitted\r\n                props.setReviews([...props.reviews, //adds the review the user just submitted to the page to the reviews state for area page\r\n                    <Review username={inputs.username} stars={inputs.stars}>\r\n                        {inputs.description}\r\n                    </Review>]);\r\n                props.updateObject();\r\n            }catch {\r\n                alert(\"Duplicate Review or Improper Format\") //if request to server fails\r\n            }\r\n        }else{alert(\"Not signed in\");} //if user not signed in\r\n    };\r\n    useEffect(() => {\r\n        let username = user.username ? user.username : false; //if user is logged in sets username variable\r\n        setInputs({...inputs, username: username, object_name: props.objectname}); //adds username and object_name objects to input state\r\n    },[user]);\r\n\r\n    let starRating = []; //array for stars for review form\r\n    for(let i = 5; i > 0 ; i--) { //creates 5 stars\r\n        starRating.push(<i\r\n            onClick={() => {setStars(i); setInputs({...inputs, stars: i})}} //if clicked sets star into input as the star # that was clicked\r\n            onMouseEnter={() => setStars(i)} //makes stars gold on hover\r\n            onMouseLeave={() => setStars(inputs.stars)} //sets stars back to what it previous was before mouse hover\r\n            style={{color: i < stars + 1 ? \"gold\" : \"grey\"}}\r\n            className=\"fas fa-star star\"/>)\r\n    }\r\n\r\n    let reviewForm = ( //review form jsx\r\n        <div className=\"submit-review-border\">\r\n            <h1>Submit Your Own Review!</h1>\r\n            <form onSubmit={handleSubmit} className=\"review-form\" action=\"\">\r\n                <div className=\"review-form-item\">\r\n                    <label>Rating</label>\r\n                    {starRating}\r\n                </div>\r\n                <div className=\"review-form-item\">\r\n                    <label htmlFor=\"review-title\">Title</label>\r\n                    <input onChange={handleInputChange} type=\"text\" id=\"review-title\" name=\"title\" placeholder=\"\"/>\r\n                </div>\r\n                <div className=\"review-form-item\">\r\n                    <label htmlFor=\"review-description\">Description</label>\r\n                    <textarea onChange={handleInputChange} id=\"review-description\" name=\"description\" rows=\"100\" cols=\"100\"/>\r\n                </div>\r\n                <div className=\"review-form-item\">\r\n                    <input type=\"submit\" value=\"Submit\"/>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n\r\n    if (!visibility) { //if the reviewform is not visible (has been submitted)\r\n        reviewForm = ( //instead of a review form a review submitted div appears\r\n            <div className=\"submit-review-border\">\r\n                <h1>Review Submitted</h1>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return( //returns reviewForm\r\n        <div className=\"submit-review-form\">\r\n            {reviewForm}\r\n        </div>\r\n\r\n    )\r\n};\r\n\r\nexport default AddReviewForm","import React, {useState, useEffect} from 'react';\r\nimport './area.css'\r\nimport Star from \"./Submission/Star\";\r\nimport Review from \"./Submission/Review\"\r\nimport MapContainer from \"./MapContainer\";\r\nimport axios from 'axios';\r\nimport AddReviewForm from \"./Forms/AddReviewForm\";\r\n\r\nconst Area = (props) => {\r\n\r\n    let photoUrl = \"https://review-bucket-react.s3.us-east-2.amazonaws.com/\" + props.match.params.name.replace(\" \", \"+\") + \"/cover.png\";\r\n    console.log(photoUrl);\r\n\r\n    const [area, setArea] = useState({});\r\n    const [reviews, setReviews] = useState(false);\r\n\r\n    const getReviews = () => {\r\n        axios.get(\"http://localhost:5000/reviews/find/byObjectName/\" + props.match.params.name)\r\n            .then(res =>\r\n                setReviews(res.data.map(review => <Review username={review.username} stars={review.stars}>\r\n                    {review.description}\r\n                </Review>)))\r\n    };\r\n\r\n    const getObject = () => {\r\n        axios.post(\"http://localhost:5000/objects\", {name: props.match.params.name})\r\n            .then(res => {\r\n                setArea(res.data[0]);\r\n            }).catch(() => {\r\n            setArea({});\r\n        });\r\n    };\r\n\r\n    useEffect(  () => {\r\n        const getValues = async () => {\r\n            await getObject();\r\n            getReviews();\r\n        };\r\n        getValues().then();\r\n        }, [props.match.params.name]\r\n    );\r\n\r\n    //TODO - Page when area not found\r\n\r\n    let page;\r\n\r\n    let photoStyle = {\r\n        backgroundImage: \"url(\" + photoUrl + \")\",\r\n        backgroundSize: \"cover\",\r\n        backgroundRepeat: \"no-repeat\",\r\n        backgroundPosition: \"center\",\r\n    };\r\n\r\n    if(area && area.coordinates){\r\n        const totalReviews = area.rating.one + area.rating.two + area.rating.three + area.rating.four + area.rating.five;\r\n        const oneStarPercent = Math.round(area.rating.one/totalReviews * 100) || 0;\r\n        const twoStarPercent = Math.round(area.rating.two/totalReviews * 100) || 0;\r\n        const threeStarPercent = Math.round(area.rating.three/totalReviews * 100) || 0;\r\n        const fourStarPercent = Math.round(area.rating.four/totalReviews * 100) || 0;\r\n        const fiveStarPercent = Math.round(area.rating.five/totalReviews * 100) || 0;\r\n        page = (\r\n            <>\r\n                <div className=\"description\">\r\n                    <h1>{area.name}</h1>\r\n                    <li className=\"known-for\">\r\n                        <span>Tourist Region</span>\r\n                        <span>Waterfall</span>\r\n                        <span>Nature</span>\r\n                    </li>\r\n                    <p>{area.overview}</p>\r\n                </div>\r\n\r\n                <div className=\"obj-overview-content\">\r\n                    <div id=\"remove-style\" className=\"obj-pictures\">\r\n                        <div style={photoStyle} className=\"overview-main-image\">\r\n                            <h1>Photo (1)</h1>\r\n                        </div>\r\n                        <div className=\"side-image overview-side-image1\"/>\r\n                        <div className=\"side-image overview-side-image2\"/>\r\n                        <div className=\"side-image overview-side-image3\"/>\r\n                    </div>\r\n                    <div className=\"obj-review-overview\">\r\n                        <h1>Review Overview</h1>\r\n                        <div className=\"obj-overview-rating\">\r\n            <span>Rating\r\n            <Star value={Math.round(area.rating.average)}/>\r\n            </span>\r\n                            <a className=\"obj-overview-rating-allreviews\">{totalReviews}</a>\r\n                        </div>\r\n                        <div className=\"obj-overview-list\">\r\n                            <li>\r\n                                <div className=\"active-review left-style five-overview \">5 Star Reviews</div>\r\n                                <div style={{backgroundSize: fiveStarPercent + \"% 100%\"}}\r\n                                    className=\"right-style overview-bar\">{fiveStarPercent}%</div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"left-style four-overview\">4 Star Reviews</div>\r\n                                <div style={{backgroundSize: fourStarPercent + \"% 100%\"}}\r\n                                    className=\"right-style overview-bar\">{fourStarPercent}%</div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"left-style three-overview\">3 Star Reviews</div>\r\n                                <div style={{backgroundSize: threeStarPercent + \"% 100%\"}}\r\n                                    className=\"right-style overview-bar\">{threeStarPercent}%</div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"left-style two-overview\">2 Star Reviews</div>\r\n                                <div style={{backgroundSize: twoStarPercent + \"% 100%\"}}\r\n                                     className=\"right-style overview-bar\">{twoStarPercent}%</div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"left-style one-overview\">1 Star Reviews</div>\r\n                                <div style={{backgroundSize: oneStarPercent + \"% 100%\"}}\r\n                                     className=\"right-style overview-bar\">{oneStarPercent}%</div>\r\n                            </li>\r\n                        </div>\r\n                        <div className=\"obj-overview-reviews\">\r\n                            <div className=\"overview-review-list\">\r\n                                <li><h3>Username1</h3><p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ex,\r\n                                    soluta!</p></li>\r\n                                <li><h3>Username2</h3><p>Lorem ipsum dolor sit, amet consectetur adipisicing elit. Dicta\r\n                                    consectetur voluptatum beatae sint voluptate illo, ipsa quis labore assumenda excepturi\r\n                                    dignissimos adipisci. Dolorum esse ab ipsam molestiae sequi vero voluptas.</p></li>\r\n                                <li><h3>Username3</h3><p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ipsam,\r\n                                    eligendi dolore dicta at quasi nisi.</p></li>\r\n                                <li><h3>Username4</h3><p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Facilis\r\n                                    odio eligendi consequatur perspiciatis earum officia modi dolorum illum voluptatem\r\n                                    sit!</p></li>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"obj-travel-overview\">\r\n                        <div className=\"travel-info\">\r\n                            <h2>Travel Overview</h2>\r\n                            <div>\r\n                                <h3><i className=\"fa fa-globe\" aria-hidden=\"true\"/> Location: <br/> {area.country}, {area.city}</h3>\r\n                                <h3><i className=\"fas fa-map\"/> Area: <br/> {area.name}</h3>\r\n                                <h3><i className=\"fa fa-map-marker\" aria-hidden=\"true\"/> Latitute,\r\n                                    Longitude: <br/> {area.coordinates.latitude.toFixed(6)} N, {area.coordinates.longitude.toFixed(6)} W</h3>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"overview-map\">\r\n                            <MapContainer center={{ lat: area.coordinates.latitude, lng: area.coordinates.longitude}}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"obj-location-overview\">\r\n                        <h2> Location Overview</h2>\r\n                        <p>Niagara is a region located in south Ontario, Canada, between Lake Ontario and Lake Erie. It is\r\n                            an 'area of wonder' with a breathtaking waterfall, nature trails, events and festivities and\r\n                            lush vineyards</p>\r\n                        <h3><i className=\"fas fa-desktop\"/> https://niagarafalls.ca/</h3>\r\n                        <h3><i className=\"fas fa-clock\"/> Closes In: 5H</h3>\r\n                        <h3><i className=\"fas fa-clock\"/> People typically spend: 3H here</h3>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"obj-reviews\">\r\n\r\n                    <AddReviewForm objectname={area.name} updateObject={getObject} setReviews={setReviews} reviews={reviews}/>\r\n\r\n                    <div id=\"reviews\" className=\"obj-review\">\r\n                        <div className=\"obj-review-list\">\r\n                            {reviews}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"area-container\">\r\n            {page}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Area;","import React, {useState, useContext} from 'react'; //React hooks, allows state to be used in functional components\r\n\r\nimport SearchBar from '../Search/SearchBar'; //Component for the nav searchbar\r\nimport SigninLoginButton from '../Buttons/SigninLoginButton'; //Component for the nav sign in and login buttons\r\nimport UserContext from '../../UserContext';\r\nimport { NavLink, useLocation } from 'react-router-dom'; //Component to switch between pages via ReactRouter\r\nimport axios from \"axios\";\r\n\r\nimport \"./Navbar.css\"; //Styling specific to the NavBar\r\n\r\n/**\r\n * The NavBar of a page\r\n * @returns A NavBar Component\r\n */\r\nconst Navbar = (props) => {\r\n    //isOpen is a state variable, when true the mobile version of the NavBar is open, toggleLinks controls isOpen\r\n    const [isOpen, toggleLinks] = useState(false);\r\n    const location = useLocation();\r\n    const {user, setUser} = useContext(UserContext);\r\n\r\n    let navButtons;\r\n    if(user){navButtons = //if the user is logged in, navbar will contain a logout button and \"Hey, username\"\r\n        <div className=\"buttons-nav\">\r\n            <div>Hey, {user.name}</div>\r\n            <button className={`button-style`} onClick={()=>{\r\n                axios.post('http://localhost:5000/signin/logout', {token: JSON.parse(localStorage.getItem('review_app_key'))}) //sents a logout request to server\r\n                    .then(res => console.log(res.data.message)); //console logs message from promise\r\n                setUser(false); //if logout button is clicked, user is set to false\r\n            }}>Logout</button>\r\n        </div>\r\n    }\r\n    else{navButtons = //if user is not logged in, navbar will contain login and signup button\r\n        <div className=\"buttons-nav\">\r\n            <SigninLoginButton setLoginSignup={props.setLogin} formName={\"login\"}> Login </SigninLoginButton>\r\n            <SigninLoginButton setLoginSignup={props.setSignup} formName={\"signup\"}> Sign Up </SigninLoginButton>\r\n        </div>\r\n    }\r\n\r\n    return(\r\n        //Container with NavBar contents\r\n        <nav id=\"navbar\" className={location.pathname === \"/Review\" || location.pathname === \"/Review/\" ? \"transparent\" : \"\"}>\r\n            {/*Routes to the home page when the logo is pressed */}\r\n            <NavLink to=\"/Review\" id=\"nav-brand\"/>\r\n\r\n            {/*Container with the nav search bar*/}\r\n            <div className=\"search-nav\">\r\n                <SearchBar/>\r\n            </div>\r\n\r\n            {navButtons}\r\n\r\n            {/* Hamburger button in the mobile version of the NavBar,\r\n             when clicked isOpen = !isOpen*/}\r\n            <div className=\"hamburger\" onClick={() => toggleLinks(!isOpen)}>\r\n                <div className=\"line\"/>\r\n                <div className=\"line\"/>\r\n                <div className=\"line\"/>\r\n            </div>\r\n\r\n            {/*List of links to other areas of the site.\r\n            isOpen controls a conditional render for the mobile version of the navbar,\r\n            if true the open class is enabled therfore the links are visible*/}\r\n            <ul className={`nav-links ${isOpen ? 'open' : ''}`}>\r\n                <NavLink to={\"/Submission\"} onClick={() => toggleLinks(!isOpen)}>Add Area</NavLink>\r\n                <NavLink to={\"/Submission\"} onClick={() => toggleLinks(!isOpen)}>My List</NavLink>\r\n                <NavLink to={\"/Submission\"} onClick={() => toggleLinks(!isOpen)}>Contact</NavLink>\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;","import React from 'react';\r\nimport './Footer.css'; //Styling specific to the footer\r\n\r\n/**\r\n * Footer of a page\r\n * @returns A Footer Component\r\n */\r\nconst Footer = () => {\r\n\r\n    return (\r\n        //Container for the entire footer\r\n        <footer className=\"web-footer\">\r\n            {/*Contents on the left side of the footer*/}\r\n            <div className=\"left-side\">\r\n                <h4>Contact Us:</h4>\r\n                <h5>Phone Number: (905) 525-9140</h5>\r\n                <h5>Address: 1280 Main St W, Hamilton, ON L8S 4L8</h5>\r\n                <h6><br/><br/>Areago © 2019</h6>\r\n            </div>\r\n            {/*Contents on the right side of the footer (social media links)*/}\r\n            <div className=\"right-side\">\r\n                <a><i className=\"fab fa-twitter\"></i></a>\r\n                <a><i className=\"fab fa-facebook-f\"></i></a>\r\n            </div>\r\n        </footer>\r\n\r\n    );\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport axios from 'axios';\r\n\r\nimport useForm from './FormHook';\r\n\r\n/**\r\n * Sign up form component\r\n * @returns {*}\r\n */\r\nconst SignupForm = (props) => {\r\n\r\n    const {inputs, handleInputChange, fieldNames, checkSubmit, displayError, errorMessage} = useForm(); //retrieves the following functions and state variables from the form hook\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault(); //prevents default form behavior\r\n        if(checkSubmit()){ //if formhook checksubmit passes\r\n            axios.post('http://localhost:5000/users/add', inputs) //sents a post request to the server with inputs as the input\r\n                .then(res => console.log(res.data));\r\n            props.setSignup(false); //closes signup form\r\n            props.setLogin(true); //opens login form\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={\"blur-background\"}>\r\n            <form onSubmit={handleSubmit} id=\"pop-up-form\" className={\"form-style\"}>{/*Runs the handleSubmit function from form hookwhen the submit button is clicked*/}\r\n                    <a onClick={() => props.setSignup(false)} className=\"close\" />{/*closes the form on click by running toggleForm function*/}\r\n                    <h1>Create an Account</h1>\r\n                    <div>\r\n                        <label>Name</label>\r\n                        <input onBlur={displayError} type=\"text\" name={fieldNames.name} onChange={handleInputChange} value={inputs.name} required/><br/>{/*Runs the displayError function from form hook onBlur (when the field loses focus)*/}\r\n                        <p htmlFor={fieldNames.name} className={\"error-message myclass\"}>{errorMessage.name}</p>{/*paragraph element to display any errors with the input of the field*/}\r\n                    </div>\r\n                    <div>\r\n                        <label>Email</label>\r\n                        <input onBlur={displayError} type=\"email\" name={fieldNames.email} onChange={handleInputChange} value={inputs.email} required/><br/>{/*runs the handleInputChange function from form hook on input change*/}\r\n                        <p htmlFor={fieldNames.email} className={\"error-message\"}>{errorMessage.email}</p>\r\n                    </div>\r\n                    <div>\r\n                        <label>Username</label>\r\n                        <input onBlur={displayError} type=\"text\" name={fieldNames.username} onChange={handleInputChange} value={inputs.username} required/><br/>\r\n                        <p htmlFor={fieldNames.username} className={\"error-message\"}>{errorMessage.username}</p>\r\n                    </div>\r\n                    <div>\r\n                        <label>Password</label>\r\n                        <input onBlur={displayError} type=\"password\" name={fieldNames.password} onChange={handleInputChange} value={inputs.password} required/><br/>\r\n                        <p htmlFor={fieldNames.password} className={\"error-message\"}>{errorMessage.password}</p>\r\n                    </div>\r\n                    {/*<label>Re-enter Password</label>*/}\r\n                    {/*<input type=\"password\" id=\"passwordConfirm\" name=\"password\" onChange={handleInputChange} value={inputs.passwordConfirm}/><br/>*/}\r\n                    <div className=\"terms-and-conditions\">\r\n                        <input type=\"checkbox\" id=\"terms\" name=\"terms\" onChange={handleInputChange} value=\"true\"/>I accept the Terms and Conditions\r\n                    </div>\r\n                    <input type=\"submit\" value={\"Sign Up\"}/>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignupForm;","import axios from \"axios\";\r\n\r\n/**\r\n * Function for checking if user is logged in by checking for and verifying user token\r\n * @param setUser user state\r\n */\r\nexport const checkLogin = async (setUser) => {\r\n    let key = JSON.parse(localStorage.getItem('review_app_key')); //sets key to the user session token\r\n    let res;\r\n\r\n    //checks if the key is a valid key (unique and not deleted)\r\n    try {\r\n        res = await axios.get('http://localhost:5000/signin/verify?token=' + key)\r\n    } catch{\r\n        setUser(false);\r\n    }\r\n\r\n    //if the session exists and is unique and not deleted\r\n    if (res.data.success){\r\n        //gets the userid using the key\r\n        try {\r\n            res = await axios.get('http://localhost:5000/signin/getuserid/' + key)\r\n        } catch{\r\n            setUser(false);\r\n        }\r\n    }\r\n\r\n    //gets the user document and sets it as the user state\r\n    try {\r\n        res = await axios.get('http://localhost:5000/users/' + res.data);\r\n        setUser(res.data)\r\n    } catch{\r\n        setUser(false);\r\n    }\r\n\r\n};","import React, {useContext} from 'react';\r\nimport useForm from './FormHook';\r\nimport './Form.css'\r\nimport axios from \"axios\";\r\nimport UserContext from \"../../UserContext\";\r\nimport {checkLogin} from \"../../checkLogin\";\r\n\r\n/**\r\n * Login Form Component\r\n * @returns {*}\r\n */\r\nconst LoginForm = (props) => {\r\n    const {inputs, fieldNames, handleInputChange, checkSubmit} = useForm(); //retreives functions and state variables from form hook\r\n    const {setUser} = useContext(UserContext);\r\n\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault(); //prevents default behavior\r\n        if(checkSubmit()){//uses formhook to check for errors in form\r\n            axios.post('http://localhost:5000/signin/signin', inputs)//sends the form inputs to backend\r\n                .then(res => {\r\n                    console.log('res', res.data);\r\n                    if (res.data.success) { //if successful (username and password match)\r\n                        try {\r\n                            localStorage.setItem('review_app_key', JSON.stringify(res.data.token)); //sets the usersession token received from backend to localstorage\r\n                            props.setLogin(false);//closes login form\r\n                            checkLogin(setUser);\r\n                            setUser(true);\r\n                        } catch (err) {\r\n                            console.error(err);\r\n                        }\r\n                    }\r\n                    else{\r\n                        alert(res.data.message);\r\n                    }\r\n                })\r\n        }\r\n        else{\r\n            alert(\"invalid inputs\"); //if formhook check submit fails, inputs were invalid\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={\"blur-background\"}>\r\n            <form onSubmit={handleSubmit} id=\"pop-up-form\" className={\"form-style\"}>{/*Runs the handleSubmit function from form hook when submit button is clicked*/}\r\n                <a onClick={()=> props.setLogin(false)} className=\"close\"/>{/*Runs the toggleForm function on click to close the form*/}\r\n                <h1>Login</h1>\r\n                <div>\r\n                    <label>Username</label>\r\n                    <input autoComplete={\"username\"} type=\"text\" name={fieldNames.username} onChange={handleInputChange} value={inputs.username} required/><br/>{/*Runs the handleInputChange function in form hook on input change*/}\r\n                </div>\r\n                <div>\r\n                    <label>Password</label>\r\n                    <input autoComplete={\"password\"} type=\"password\" name={fieldNames.password} onChange={handleInputChange} value={inputs.password} required/><br/>\r\n                </div>\r\n                <input type=\"submit\" value=\"Login\"/>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoginForm;","import React, {useEffect, useState} from 'react';\r\nimport './style.css';\r\nimport UserContext from \"./UserContext\";\r\nimport {Route, Switch, useLocation } from 'react-router-dom';\r\n\r\n\r\n//Component for every page on the website\r\nimport Home from './components/Home';\r\nimport Submission from './components/Submission';\r\nimport Results from './components/Results';\r\nimport Area from './components/Area';\r\n\r\n//Components for NavBar/Footer (Components that appear on all pages)\r\nimport NavBar from './components/Nav/Navbar';\r\nimport Footer from './components/Footer/Footer';\r\n\r\nimport SignupForm from \"./components/Forms/SignupForm\";\r\nimport LoginForm from \"./components/Forms/LoginForm\";\r\nimport {checkLogin} from \"./checkLogin\";\r\n\r\n\r\n/**\r\n * This component represents every page on the website.\r\n * It contains the logic needed to switch between the pages.\r\n * @returns A Page on the website\r\n */\r\nconst App = () => {\r\n\r\n    const[user,setUser] = useState(false); //state to set the user if user is logged in\r\n    const [signup, setSignup] = useState(false); //state for signup form visiblity\r\n    const [login, setLogin] = useState(false);//state for login form visibility\r\n    let location = useLocation(); //location variable for website location information\r\n\r\n    let form;\r\n    if(signup){form = // if signup state is true, set up signup form for render\r\n            <div id=\"signup\" className=\"signup\">\r\n                <SignupForm setLogin={setLogin} setSignup={setSignup}/>\r\n            </div>\r\n    }\r\n\r\n    if(login){form = //if login state is true, set up login form for render\r\n        <div id=\"login\" className=\"login\">\r\n            <LoginForm setLogin={setLogin}/>\r\n        </div>\r\n    }\r\n\r\n    useEffect(() => {\r\n            checkLogin(setUser); // runs the checklogin function and passes the user state as a parameter\r\n    },[]);\r\n\r\n    //TODO run asychronously\r\n    useEffect(() => {\r\n        if(!user && location.pathname.match(/\\/Submission.*/)){ //checks if user is not signed in and is viewing submission page\r\n            setLogin(true); //displays login form\r\n        }\r\n    },[location.pathname, user]); //effect runs when user logs in or logs out or changes pages\r\n\r\n    return (\r\n        <div>\r\n            <UserContext.Provider value={{user, setUser}}>\r\n                <NavBar setLogin={setLogin} setSignup={setSignup}/> {/*  Navigation Bar (will be on all pages)*/}\r\n\r\n                {/*Switch Component contains all possible components that\r\n                may be rendered between the NavBar and the Footer*/}\r\n                <Switch>\r\n                      <Route path=\"/Review\" render={(props) => <Home {...props} setLogin={setLogin} setSignup={setSignup} />} exact/>\r\n                      <Route path=\"/Submission\" component={Submission}/>\r\n                      <Route path=\"/Results\" component={Results}/>\r\n                      <Route path=\"/Area/:name\" component={Area}/>\r\n                </Switch>\r\n\r\n                {/*Content on all pages below*/}\r\n                {/*Container for Sign Up Form*/}\r\n                {/*Container for Log in Form*/}\r\n                {form}\r\n\r\n                <Footer/>\r\n            </UserContext.Provider>\r\n        </div>\r\n  )\r\n};\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n\r\nimport App from './App'; //The whole react application\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n//Render the react app into the index.html\r\n//BrowserRouter Enables switching between components via NavLink Components\r\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}